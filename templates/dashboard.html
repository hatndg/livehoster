<!doctype html>
<title>Dashboard</title>
<link rel="stylesheet" href="/static/style.css">
<h2>Restreamer Dashboard</h2>
<p><a href="/change-password">Äá»•i máº­t kháº©u</a> | <a href="/logout">Logout</a></p>
<form method="post" action="/add-stream">
  <input name="name" placeholder="TÃªn kÃªnh" required>
  <input name="url" placeholder="URL m3u8" required>
  <button>ThÃªm</button>
</form>
<table>
<tr><th>KÃªnh</th><th>Link</th><th>Thao tÃ¡c</th></tr>
{% for name, url in channels.items() %}
<tr>
  <td>{{ name }}</td>
  <td><a href="/hls/{{ name }}/index.m3u8" target="_blank">Xem</a></td>
  <td>
    <a href="/restart-stream/{{ name }}">ğŸ”</a>
    <a href="/delete-stream/{{ name }}">âŒ</a>
  </td>
</tr>
{% endfor %}
</table>
<div id="stats">CPU: ... | RAM: ...</div>
<script>
setInterval(() => {
  fetch("/cpu-ram").then(r => r.json()).then(d => {
    document.getElementById("stats").innerText = `CPU: ${d.cpu}% | RAM: ${d.ram}%`;
  });
}, 3000);
</script>
